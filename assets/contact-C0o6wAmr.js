import"./modulepreload-polyfill-B5Qt9EMX.js";const d={_origin:"https://api.emailjs.com"},p=(t,e="https://api.emailjs.com")=>{d._userID=t,d._origin=e},c=(t,e,i)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class m{constructor(e){this.status=e.status,this.text=e.responseText}}const u=(t,e,i={})=>new Promise((n,s)=>{const r=new XMLHttpRequest;r.addEventListener("load",({target:o})=>{const a=new m(o);a.status===200||a.text==="OK"?n(a):s(a)}),r.addEventListener("error",({target:o})=>{s(new m(o))}),r.open("POST",d._origin+t,!0),Object.keys(i).forEach(o=>{r.setRequestHeader(o,i[o])}),r.send(e)}),f=(t,e,i,n)=>{const s=n||d._userID;return c(s,t,e),u("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:t,template_id:e,template_params:i}),{"Content-type":"application/json"})},g=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},h=(t,e,i,n)=>{const s=n||d._userID,r=g(i);c(s,t,e);const o=new FormData(r);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",s),u("/api/v1.0/email/send-form",o)},l={init:p,send:f,sendForm:h};document.addEventListener("DOMContentLoaded",()=>{console.log("EmailJS Public Key:","fB2ZWCiklI05D1QdL"),l.init("fB2ZWCiklI05D1QdL");let t;document.addEventListener("click",()=>{t||(t=new Audio("../memory-card-menu/audio/exit.mp3"),console.log("ðŸ”Š Exit sound preloaded after user interaction."))},{once:!0}),document.getElementById("contact-form").addEventListener("submit",function(n){n.preventDefault();const s=document.getElementById("email").value,r=document.getElementById("message").value;if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)){alert("Please enter a valid email address.");return}l.send("personal_portfolio","template_3ipw0vi",{user_email:s,message:r}).then(function(a){console.log("SUCCESS!",a.status,a.text),document.getElementById("success-message").style.display="block",document.getElementById("contact-form").reset(),setTimeout(()=>{document.getElementById("success-message").style.display="none"},3e3)},function(a){console.log("FAILED...",a),alert("Failed to send message. Please try again.")})});function e(n){n&&(n.currentTime=0,n.play().catch(s=>console.error("Error playing sound:",s)))}document.addEventListener("keydown",n=>{n.key==="Escape"&&(console.log("Escape pressed. Playing exit sound..."),e(t),setTimeout(()=>{console.log("Returning to memory menu..."),window.location.href="../memory-card-menu/memory-menu.html"},700))}),window.removeEventListener("popstate",i),window.addEventListener("popstate",i,{once:!0});function i(){console.log("Browser back button pressed. Playing exit sound..."),e(t),setTimeout(()=>{console.log("Returning to previous page..."),window.location.href="../memory-card-menu/memory-menu.html"},700)}window.pushedState||(history.pushState(null,"",location.href),window.pushedState=!0)});
